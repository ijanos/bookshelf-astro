---
import { type Book } from "../data/books.ts";
import stc from "string-to-color";

interface Props {
    book: Book;
}

const { book } = Astro.props;
const titleLines = book.title.split(" ");
---
<svg version="1.1" width="200" height="300" xmlns="http://www.w3.org/2000/svg">
    <rect width="100%" height="100%" fill={stc(book.title)}/>

    <text x="0" y="150" font-size="13" text-anchor="left" fill="black" transform="rotate(-90,15,150)">
        {book.author.join(", ")}
    </text>

    { titleLines.map((titleLine, i) =>
    <text
       x="30" y={40 + i*23}
       font-size="24" fill="black" letter-spacing="-1" font-weight="bold" stroke="white" paint-order="stroke" stroke-width="4" stroke-opacity="0.25">
        {titleLine}
    </text>
    )}


    <text x="10" y="280" font-size="12" text-anchor="left" fill="black">
        {book.published}
    </text>
</svg>
